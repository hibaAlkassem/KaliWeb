

<script src="assets/plugins/bootstrap-timepicker-gh-pages/js/bootstrap-timepicker.js" type="text/javascript"></script>
<script src="assets/js/moment.js" type="text/javascript"></script>
<link href="css/patient-dialog.css" rel="stylesheet" type="text/css" />
<!--<link href="assets/plugins/boostrap-clockpicker/bootstrap-clockpicker.min.css" rel="stylesheet" type="text/css" media="screen">-->
<link href="assets/plugins/bootstrap-datepicker/css/datepicker.css" rel="stylesheet" type="text/css" />
<link href="assets/plugins/bootstrap-timepicker-gh-pages/css/bootstrap-timepicker.css" rel="stylesheet" type="text/css" />

<script src="assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js" type="text/javascript"></script>

<script src="assets/js/tabs_accordian.js" type="text/javascript"></script>
<!--<script src="assets/plugins/boostrap-clockpicker/bootstrap-clockpicker.min.js" type="text/javascript"></script>-->
<!--<script src="assets/plugins/boostrap-clockpicker/bootstrap-clockpicker.min.js" type="text/javascript"></script>-->
<script src="js/timezone.js" type="text/javascript"></script>

<script src="assets/js/select2.full.min.js" type="text/javascript">
    $('.select-2').select2({
        minimumResultsForSearch: Infinity
    });


</script>


<style>
    .bootstrap-timepicker-widget {
        z-index: 9999 !important;
    }
</style>

<div class="modal fade patient-modal" id="patientModal" data-keyboard="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-content patient-modal-content">
            <div class="modal-header patient-header">
                <!--                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Done</span> </button>-->
                <h4 class="patient-name "><b></b><span id="patientName"></span> </h4>
                <h4 class="patient-number">
                    &nbsp; <span id="dash"></span><span id="patientNumber"></span>
                </h4>
            </div>

            <div class="modal-header modal-buttons-header">
                <ul class="nav nav-pills" id="tab-4">
                    <li class="active">
                        <a id="idTabBtn" href="#idTab">ID</a>
                    </li>
                    <li class="">
                        <a id="profileBtn" href="#profile">Profile</a>
                    </li>
                    <li class="">
                        <a id="prescriptionBtn" href="#prescription">Prescription</a>
                    </li>
                    <li class="">
                        <a id="notificationsBtn" href="#notifications">Notifications</a>
                    </li>
                    <li class="">
                        <a id="permissionsBtn" href="#permissions">Support Team</a>
                    </li>
                    <li class="hidden">
                        <a id="researchParticipantBtn" href="#researchParticipant">Research Participant</a>
                    </li>
                </ul>

                <img style="float: right; margin-top: -43px; margin-right: -3px; display: none;" id="dialogSpinner" src="assets/img/spinner.gif">
            </div>



            <div class="modal-body patient-modal-body" style="background-color: white;">




                <div class="tab-content">

                    <div class="tab-pane active" id="idTab">

                        <div class="row form-row">
                            <div class="col-md-6" id="divPatientId">
                                <label class="form-label">Patient Reference Number*</label>
                                <input type="text" placeholder="" class="form-control required tip profile-input" id="txtPatientId" name="txtPatientId" data-toggle="tooltip" title="" data-placement="right" data-original-title="* Required

A unique identifier of your choice.

Ex: Site 23 - Patient 43A" name="txtDeviceId" />
                                <label for="txtPatientId" class="error" id="lblPatientIdError" style="display: none;">Patient Number is required. (Must be at least two characters long)</label>
                            </div>
                        </div>
                        <span id="participationDetails">
                            <div class="row form-row">
                                <div class="col-md-6" id="divResearchName">
                                    <label class="form-label">Research Name</label>
                                    <input type="text" placeholder="" class="form-control required tip profile-input" id="txtResearchName" name="txtResearchName" data-toggle="tooltip" title="" data-placement="right" data-original-title="" name="txtDeviceId" disabled />
                                    <!--                                <label for="txtResearchName" class="error" id="lblPatientIdError" style="display: none;">Patient Number is required. (Must be at least two characters long)</label>-->
                                </div>
                            </div>

                            <div class="row form-row">
                                <div class="col-md-6" id="divResearchCenter">
                                    <label class="form-label">Research Center</label>
                                    <input type="text" placeholder="" class="form-control required tip profile-input" id="txtResearchCenter" name="txtResearchCenter" data-toggle="tooltip" title="" data-placement="right" data-original-title="" name="txtDeviceId" />
                                    <!--                                <label for="txtResearchName" class="error" id="lblPatientIdError" style="display: none;">Patient Number is required. (Must be at least two characters long)</label>-->
                                </div>
                            </div>

                            <div class="row form-row">
                                <div class="col-md-3">
                                    <label class="form-label">Research starts on</label>
                                    <div class="input-append success date ">
                                        <input class="form-control  prescription-input-change" id="researchStartDate" placeholder="Start" type="text" data-toggle="tooltip" title="" data-placement="top" data-original-title="" disabled>

                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <label class="form-label">Research ends on</label>
                                    <div class="input-append success date">
                                        <input class="form-control  prescription-input-change" id="researchEndDate" placeholder="End" type="text" data-toggle="tooltip" title="" data-placement="top" data-original-title="" disabled>

                                    </div>
                                </div>

                            </div>

                        </span>




                    </div>


                    <div class="tab-pane" id="profile">

                        <div class="row form-row">
                            <div class="col-md-6" id="divFirstName">
                                <label class="form-label">First Name</label>
                                <input type="text" placeholder="" class="form-control tip profile-input" id="txtFirstName" data-toggle="tooltip" title="" data-placement="right" data-original-title="Optional" name="txtFirstName" />
                                <label for="txtFirstName" class="error" id="lblFirstNameError" style="display: none;">First Name is required.</label>
                            </div>
                        </div>
                        <div class="row form-row">
                            <div class="col-md-6" id="divLastName">
                                <label class="form-label">Last Name</label>
                                <input type="text" placeholder="" class="form-control tip profile-input" id="txtLastName" name="txtLastName" data-toggle="tooltip" title="" data-placement="right" data-original-title="Optional" />
                                <label for="txtLastName" class="error" id="lblLastNameError" style="display: none;">Last Name is required.</label>
                            </div>
                        </div>
                        <div class="row form-row m-b-15">
                            <div class="col-md-6" id="divGender">
                                <label class="form-label">Gender</label>
                                <select class="form-control tip select-2 gender-select2 profile-input-change" id="selectGender" data-toggle="tooltip" title="" data-placement="right" data-original-title="Optional" style="padding: 0px !important;">
                                    <option value=""></option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                </select>
                            </div>
                        </div>


                        <div class="row form-row">
                            <div class="col-md-6" id="divAge">
                                <label class="form-label">Date of Birth (MM/DD/YYYY)</label>
                                <input type="text" placeholder="MM/DD/YYYY" class="form-control tip profile-input" id="txtAge" name="txtAge" data-toggle="tooltip" title="" data-placement="right" data-original-title="Optional" />
                                <label for="txtAge" class="error" id="lblAgeError" style="display: none;">Make sure the date format is MM/DD/YYYY (ex: 02/18/1990)</label>
                            </div>
                        </div>
                        <div class="row form-row">
                            <div class="col-md-6" id="divMedDetails">
                                <label class="form-label">Time zone</label>

                                
                                  <select class="form-control tip  profile-input-change" id="timezone" data-toggle="tooltip" title="" data-placement="right" data-original-title="Optional" style="padding: 0px !important; height:37px;">
                                    <option></option>
                                </select>

                                
                           
                                <label for="timezone" class="error" id="timezoneError" style="display: none;">Select time zone</label>
                            </div>
                        </div>

                    </div>



                    <div class="tab-pane" id="prescription">



                        <label class="form-label prescription-label-medication">Medication</label>
                        <div class="row form-row">
                            <div class="col-md-5" id="divMedicines">
                                <label class="form-label">Medicine Name</label>
                                <input type="text" placeholder="" class="form-control  tip prescription-input" id="txtComments" name="txtComments" data-toggle="tooltip" title="" data-placement="top" data-original-title="Optional

Any name to help recognize the medication.

Ex: Meditech SmoothEye" />
                                <label for="txtComments" class="error" id="txtCommentsError" style="display: none;">Medicine name cannot be less than 2 characters long</label>
                                <label class="info" id="lblMedicineDetails"></label>
                            </div>


                            <div class="col-md-5" id="divDeviceId">
                                <label class="form-label">Device ID</label>
                                <input type="text" placeholder="" class="form-control tip prescription-input" id="txtDeviceId" data-toggle="tooltip" title="" data-placement="top" data-original-title="Optional

ID located under the Kali device.

Ex: 123-456" name="txtDeviceId" />


                                <label for="txtDeviceId" class="error" id="lblDeviceIdError" style="display: none;"></label>
                            </div>
                            <div class="col-md-2 release-device">
                                <button type="button" class="btn btn-success btn-sm btn-small btn-release" style="pointer-events: auto; display: inline;" id="releaseDevice" data-toggle="tooltip" title="" data-placement="top" data-container="#patientModal" data-original-title="Release the device will stop recording

Add a device ID to resume recording.">
                                    Release device
                                </button>
                            </div>

                        </div>


                        <!--
                                                <div class="row form-row">


                                                    <div class="col-md-5" id="divMedDetails">
                                                        <label class="form-label">Medication Key</label>
                                                        <input type="text" placeholder="" class="form-control tip prescription-input" id="txtMedKey" name="txtMedKey" data-toggle="tooltip" title="" data-placement="top" data-container="#patientModal" data-original-title="Optional

                        A unique reference to a study or project.

                        Ex: meditech-smootheye-CR-01012017" /> </div>

                                                </div>
                        -->




                        <label class="form-label prescription-label-dosage">Dosing</label>
                        <div class="row form-row m-b-10 dosage">

                            <div class="col-md-12 row">

                                <div class="btn-group drop-btn-group col-md-4 col-sm-7 tip" role="toolbar" data-toggle="tooltip" title="" data-placement="right" data-original-title="Set the expected number of drops to administer per eye

Multiple drops assume 5 minute delay between drops">
                                    <label class="form-label">Drops per eye</label>
                                    <button type="button" drop-count="1" class="btn active default clicked">
                                        <i class="fa fa-tint"></i>
                                    </button>
                                    <button type="button" drop-count="2" class="btn">
                                        <i class="fa fa-tint"></i><i class="fa fa-tint"></i>
                                    </button>
                                    <button type="button" drop-count="3" class="btn">
                                        <i class="fa fa-tint"></i><i class="fa fa-tint"></i><i class="fa fa-tint"></i>
                                    </button>
                                </div>

                                <div class="btn-group eye-btn-group col-md-4 " role="toolbar" data-toggle="tooltip" title="" data-placement="right" data-original-title="Set number of eyes to be treated">
                                    <label class="form-label">Number of eyes</label>
                                    <button type="button" eye-count="1" class="btn active default clicked">
                                        <i class="fa fa-eye"></i>
                                    </button>
                                    <button type="button" eye-count="2" class="btn">
                                        <i class="fa fa-eye"></i><i class="fa fa-eye"></i>
                                    </button>

                                </div>
                            </div>

                            <div class="col-md-12 time-div row">
                                <label class="form-label time-label col-md-12">Time</label>
                            </div>



                        </div>

                        <label for="dosage" class="error" id="timeError" style="display: none;">Invalid Time</label>

                        <div class="row form-row">
                            <div class="col-md-3">
                                <label class="form-label">Starts on</label>
                                <div class="input-append success date ">
                                    <input class="form-control date-inputs prescription-input-change" id="startDate" placeholder="Start" type="text" data-toggle="tooltip" title="" data-placement="top" data-original-title="Optional">
                                    <span class="add-on date-icons monitor-dates" style="border: 1px solid #E5E9EC !important;border-left:none !important;">
                                        <span class=""></span><i class="fa fa-calendar-o "></i>
                                    </span>
                                </div>


                            </div>



                            <div class="col-md-3">
                                <label class="form-label">Ends on</label>
                                <div class="input-append success date ">
                                    <input class="form-control date-inputs prescription-input-change" id="endDate" placeholder="End" type="text" data-toggle="tooltip" title="" data-placement="top" data-original-title="Optional

Leave empty for ongoing treatment.">
                                    <span class="add-on date-icons monitor-dates" style="border: 1px solid #E5E9EC !important;border-left:none !important;">
                                        <span class=""></span><i class="fa fa-calendar-o "></i>
                                    </span>
                                </div>


                            </div>

                        </div>

                        <div class="row form-row">

                        </div>

                        <label class="error dates-error" id="datesError">Starting date cannot be after ending date</label>

                    </div>

                    <div class="tab-pane" id="notifications">

                        <span id="notificationList">



                        </span>

                        <div class="row add-notification">


                            <div class="add-reminder col-md-12 ">

                                <!--
                                                                <div class="notification-type col-md-3 col-sm-5 col-xs-7">
                                                                    <select class="select2 select-2 " id="notificationType">
                                                                        <option value="Medication reminders">Medication reminders</option>
                                                                        <option value="Adherence updates">Adherence updates</option>
                                                                    </select>

                                                                </div>
                                -->
                                <div class="by col-md-5 col-sm-5 col-xs-2">
                                    Send medication reminders by
                                </div>


                                <div class="notification-type col-md-2 col-sm-3 col-xs-2">

                                    <select class="select2 select-2" id="notifyBy">
                                        <option value="sms">SMS</option>
                                        <option value="email">email</option>
                                        <option value="phone">phone</option>
                                    </select>
                                </div>

                                <div class="to col-md-1 col-sm- col-xs-1">
                                    to
                                </div>

                                <div class="notification-to col-md-5 col-sm-2 col-xs-7">


                                    <input class="notification-to" id="recipient" />
                                    <br />
                                    <span class="notification-to">
                                        [+][country code][phone number including area code]
                                        <span>ex: +1 408 555 5555</span>
                                    </span>


                                </div>


                                <button type="button" class="btn btn-success notification-save" id="saveNotification">Add</button>

                            </div>

                            <span class="add-notification-note">Medication reminders designed to help patient</span>

                        </div>
                    </div>

                    <div class="tab-pane" id="permissions">
                        <span id="permissionsList">
                        </span>
                        <div class="row add-permission" id="newPermissionDiv">

                            <div class="add-new-permission col-md-12 ">

                                <div class="permission-email col-md-6 col-sm-6 col-xs-6">

                                    <input class="form-control permission-email" placeholder="email address" id="permissionEmail" />
                                </div>
                                <div class="permission-role col-md-3 col-sm-3 col-xs-3">
                                    <select class="select2 select-2 permission-role-select" id="permissionRole">
                                        <option value="5">Doctor</option>
                                        <option value="6">Doctor assistant</option>
                                        <option value="2">Patient</option>
                                        <option value="4">Caregiver</option>
                                        <option value="3">Family</option>
                                        <option value="7">Other</option>
                                    </select>
                                </div>
                                <div class="col-md-2 col-sm-2 col-xs-2  permission-save">

                                    <button class="permission-save btn btn-success " type="button" id="addPermission">Add</button>
                                </div>

                            </div>
                            <span class="new-permission-note">An Email invitation with instructions will be automatically sent to the recipient</span>

                        </div>
                    </div>
                    <div class="tab-pane" id="researchParticipant">

                        <div class="row form-row">
                            <div class="col-md-6" id="divPatientId">
                                <label class="form-label">Research Key</label>
                                <input type="text" placeholder="" class="form-control tip error-control" id="txtResearchKey" name="txtResearchKey" data-toggle="tooltip" title="" data-placement="right" data-original-title="" />
                                <label for="txtResearchKey" class="error" id="lblResearchKeyError" style="display: none;"></label>
                            </div>
                        </div>
                    </div>


                    <div class="modal fade" id="modalDeleteMonitor" data-keyboard="false">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title">Confirm Release Device</h4>
                                    <img id="releaseSpinner" src="assets/img/spinner.gif">
                                </div>
                                <div class="modal-body" style="background-color: white;">
                                    Are you sure you want to release the current device?
                                    <br />
                                    <br /> After a device has been released, you can either re-assign the same device or assign a new one.
                                    <br /> Serial numbers are required to assign a device.
                                    <br />
                                </div>
                                <div class="modal-footer">

                                    <button type="button" class="btn btn-default" id="btn-modal-cancel-delete-monitor">Cancel</button>
                                    <button type="button" class="btn btn-primary" id="btn-modal-delete-monitor">Release Device</button><img id="releaseSpinner" src="assets/img/spinner.gif" style="height: 25px; visibility:hidden;">

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- /.modal-content -->

            </div>

            <div class="modal-footer">

                <button type="button" class="btn btn-default footer-btns" id="modalPrev" style="display:none">Previous</button>
                <button type="button" class="btn btn-success footer-btns" id="modalNext">Next</button>
                <button type="button" class="btn btn-primary footer-btns" id="btnSaveEdit" style="display:none">Save</button>
                <button type="button" class="btn btn-white btn-done-modal footer-btns" data-dismiss="modal" id="modalCancel">Cancel</button>
                <button type="button" class="btn btn-white btn-done-modal footer-btns" id="modalDone">Done</button>

            </div>
            <!-- /.modal-dialog -->
        </div>



    </div>
</div>

<script>
    $(function () {
        $('.gender-select2').select2({
            minimumResultsForSearch: Infinity,
            placeholder: "Select Gender"
        });
    
        $('#timezone').select2({

            placeholder: "Select time zone"
        });

        var timezoneIdCtr = 0;

        //   $.each(timezone, function(index, value) {
        //     $('#timezone').append('<option value="' + timezoneIdCtr + '" time="' + timezone[index].id + '">' + timezone[index].text + '</option>');
        //    timezoneIdCtr++;
        //});

        $(".date-inputs").datepicker({
            format: 'M dd, yyyy'
        });
    });
    $('.select2').select2({
        minimumResultsForSearch: Infinity
    });

    $("[data-toggle='tooltip']").tooltip();
    $('document').ready(function () {
        $('#s2id_selectGender').attr('data-toggle', 'tooltip').attr('data-placement', 'right').attr('data-original-title', 'Optional');
        $("[data-toggle='tooltip']").tooltip();
    });

    $('#patientModal input').attr('autocomplete', 'off')

</script>
